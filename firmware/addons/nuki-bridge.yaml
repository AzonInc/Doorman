esphome:
  libraries:
  - Preferences
  - https://github.com/vinmenn/Crc16.git
  - https://github.com/AzonInc/NukiBleEsp32

external_components:
  - source: github://AzonInc/ESPHome_nuki_lock@main

# Pairing Mode
binary_sensor:
  - platform: gpio
    pin:
      number: GPIO0
      inverted: True
    internal: True
    id: doorman_boot_button
    on_multi_click:
      - timing:
            - ON for at least 5s
        then:
          if:
            condition:
              binary_sensor.is_on: nuki_paired
            then:
              - nuki_lock.unpair:
              - lambda: |
                  ESP_LOGI("pairing", "Pairing Mode: TODO");
            else:
              - nuki_lock.set_pairing_mode: true